(this["webpackJsonpsupermarket-price-comparer"]=this["webpackJsonpsupermarket-price-comparer"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/Frame-1.5cf368b6.png"},function(e,t,a){e.exports=a(43)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo4.8feee896.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(11);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=a(5),s=a(3),i=a(45);var m=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[s,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[p,E]=Object(n.useState)("");return r.a.createElement("form",{onSubmit:async n=>{n.preventDefault();try{const n={name:e,quantity:a,unit:o,price:s,supermarket:u,date:p};await i.a.post("http://localhost:5000/api/products",n),alert("Product added successfully!"),t(""),l(""),c("un"),m(""),d(""),E("")}catch(r){console.error("Error adding product:",r)}}},r.a.createElement("input",{type:"text",placeholder:"Product Name",value:e,onChange:e=>t(e.target.value)}),r.a.createElement("input",{type:"number",placeholder:"Quantity",value:a,onChange:e=>l(e.target.value)}),r.a.createElement("input",{type:"text",placeholder:"Unit",value:o,onChange:e=>c(e.target.value)}),r.a.createElement("input",{type:"number",placeholder:"Price",value:s,onChange:e=>m(e.target.value)}),r.a.createElement("select",{value:u,onChange:e=>d(e.target.value)},r.a.createElement("option",{value:""},"Select Supermarket"),r.a.createElement("option",{value:"1"},"Lidl "),r.a.createElement("option",{value:"2"},"SuperValue "),r.a.createElement("option",{value:"3"},"TESCO "),r.a.createElement("option",{value:"4"},"Aldi "),r.a.createElement("option",{value:"5"},"M&S "),r.a.createElement("option",{value:"6"},"Dunnes Stores ")),r.a.createElement("input",{type:"date",placeholder:"Product Date",value:p,onChange:e=>E(e.target.value)}),r.a.createElement("button",{type:"submit"},"Add Product"))};var u=e=>{let{isOpen:t,onClose:a,onConfirm:n}=e;return t?r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,"Account Settings"),r.a.createElement("button",{onClick:a,className:"close-button"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are you sure you want to delete your account?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:n,className:"btn btn-danger"},"Yes"),r.a.createElement("button",{onClick:a,className:"btn btn-secondary"},"No")))):null};var d=function(){const{id:e}=Object(s.r)(),[t,a]=Object(n.useState)({name:"",quantity:"",unit:"un",price:"",supermarket_id:"",product_date:""});Object(n.useEffect)(()=>{fetch("/api/products/"+e).then(e=>e.json()).then(e=>a(e))},[e]);const l=e=>{a({...t,[e.target.name]:e.target.value})};return r.a.createElement("form",{onSubmit:a=>{a.preventDefault(),fetch("/api/products/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{alert("Product updated successfully")})}},r.a.createElement("h2",null,"Edit Product"),r.a.createElement("input",{name:"name",placeholder:"Product Name",value:t.name,onChange:l}),r.a.createElement("input",{name:"quantity",placeholder:"Quantity",value:t.quantity,onChange:l}),r.a.createElement("select",{name:"unit",value:t.unit,onChange:l},r.a.createElement("option",{value:"un"},"un"),r.a.createElement("option",{value:"kg"},"kg"),r.a.createElement("option",{value:"lt"},"lt"),r.a.createElement("option",{value:"mm"},"mm")),r.a.createElement("input",{name:"price",placeholder:"Price",value:t.price,onChange:l}),r.a.createElement("input",{name:"supermarket_id",placeholder:"Supermarket ID",value:t.supermarket_id,onChange:l}),r.a.createElement("input",{type:"date",name:"product_date",value:t.product_date,onChange:l}),r.a.createElement("button",{type:"submit"},"Update Product"))};a(30);var p=function(){const[e,t]=Object(n.useState)("");return r.a.createElement("div",{className:"feedback-section"},r.a.createElement("p",{className:"feedback-title"},"Notice any problems with the website?"),r.a.createElement("p",null,"This website is still in Beta testing and problems may arise now and again. Let us know by sending us a message; we appreciate all feedback!"),r.a.createElement("form",{className:"feedback-form",onSubmit:async a=>{a.preventDefault();try{const a=await fetch("http://localhost:5000/api/feedback/sendFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(a.ok)alert("Thank you for your feedback!"),t("");else{const e=await a.json();alert(e.error||"Failed to send feedback")}}catch(n){console.error("Error sending feedback:",n),alert("An error occurred. Please try again later.")}}},r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Message",className:"feedback-input"}),r.a.createElement("button",{type:"submit",className:"feedback-button"},"Send")))};a(31);var E=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer__logo-section"},r.a.createElement("img",{src:a(32),alt:"addandcompare",className:"logo"}),r.a.createElement("div",{className:"social-icons"},r.a.createElement("a",{href:"#",className:"facebook-icon","aria-label":"Facebook"},r.a.createElement("img",{src:"/supermarket-price-comparer/Facebook-48.png",alt:"Facebook"})),r.a.createElement("a",{href:"#",className:"instagram-icon","aria-label":"Instagram"},r.a.createElement("img",{src:"/supermarket-price-comparer/Instagram-48.png",alt:"Instagram"})),r.a.createElement("a",{href:"#",className:"twitter-icon","aria-label":"Twitter"},r.a.createElement("img",{src:"/supermarket-price-comparer/X-48.png",alt:"Twitter"})),r.a.createElement("a",{href:"#",className:"linkedin-icon","aria-label":"LinkedIn"},r.a.createElement("img",{src:"/supermarket-price-comparer/Linkedin-48.png",alt:"Twitter"})))),r.a.createElement("div",{className:"footer__links"},r.a.createElement("div",null,r.a.createElement("h5",null,"My Account"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement("a",{href:"/register"},"Sign Up")),r.a.createElement("li",null,r.a.createElement("a",{href:"/search"},"Search")))),r.a.createElement("div",null,r.a.createElement("h5",null,"Links"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/how-it-works"},"How it Works")),r.a.createElement("li",null,r.a.createElement("a",{href:"/about-us"},"About Us")))),r.a.createElement("div",null,r.a.createElement("h5",null,"Customer Care"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/contact-us"},"Contact Us")),r.a.createElement("li",null,r.a.createElement("a",{href:"/terms-of-service"},"Terms of Service")),r.a.createElement("li",null,r.a.createElement("a",{href:"/privacy-policy"},"Privacy Policy"))))),r.a.createElement("div",{className:"footer__copyright"},r.a.createElement("p",null,"\xa9 Copyright All Rights Reserved 2024"))))},h=a(19),g=a.n(h);const y=Object(n.createContext)(),v=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(!1),[o,c]=Object(n.useState)(null),[i,m]=Object(n.useState)(null),[u,d]=Object(n.useState)(!1),p=Object(s.p)();Object(n.useEffect)(()=>{const e=localStorage.getItem("token");e&&(l(!0),c(e),h())},[]);const E=async()=>{try{if(o){console.log("Token sent during logout:",o);const e=await fetch("http://localhost:5000/api/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});if(e.ok)console.log("Logout successful");else{const t=await e.json();console.error("Error during logout:",t.message)}}localStorage.removeItem("token"),c(null),l(!1),p("/")}catch(e){console.error("Error during logout:",e.message)}},h=()=>{clearTimeout(i);const e=setTimeout(()=>{E()},3e6);m(e)},g=()=>{a&&h()};Object(n.useEffect)(()=>{const e=["mousemove","keydown","click"];return e.forEach(e=>window.addEventListener(e,g)),()=>{e.forEach(e=>window.removeEventListener(e,g))}},[a]);return r.a.createElement(y.Provider,{value:{isAuthenticated:a,login:e=>{console.log("Saving token to localStorage:",e),c(e),l(!0),localStorage.setItem("token",e),h(),d(!1)},logout:E,token:o,setToken:c,setIsAuthenticated:l}},t,u&&r.a.createElement("div",{className:"inactivity-modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("p",null,"You have been logged out due to inactivity."),r.a.createElement("button",{onClick:()=>{d(!1),p("/login")}},"OK"))))},b=()=>Object(n.useContext)(y);var f=y;a(33);var w=function(){const{isAuthenticated:e,logout:t}=b();return r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar__logo"},r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:g.a,alt:"Supermarket Price Comparer Logo"}))),r.a.createElement("ul",{className:"navbar__links-left"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/how-it-works"},"How it Works"))),r.a.createElement("ul",{className:"navbar__links-right"},e?r.a.createElement("li",null,r.a.createElement("p",{className:"logout-button",onClick:t},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/register"},"Register")))),r.a.createElement("form",{className:"quick-search-form",action:"/search",style:{position:"relative"}},r.a.createElement("input",{type:"text",placeholder:"Quick Search",name:"query",style:{paddingRight:"3rem"}}),r.a.createElement("button",{className:"magnifying-icon",type:"submit",style:{borderRadius:"100%",width:"2rem",height:"2.2rem",backgroundColor:"black",padding:"0.5rem",color:"white",cursor:"pointer",padding:"0.2rem",position:"absolute",top:"50%",left:"0rem",transform:"translateY(-50%)",border:"none"},"aria-label":"quick-search"},r.a.createElement("i",{className:"bi bi-search"}))),e&&r.a.createElement("div",{className:"dashboard-icon"},r.a.createElement(c.b,{to:"/dashboard"},r.a.createElement("i",{className:"bi bi-person pt-3 color-normal-blue",id:"pers"})))))};var S=()=>{const{token:e,setToken:t,setIsAuthenticated:a}=Object(n.useContext)(f),l=Object(s.p)();return r.a.createElement("button",{className:"logout-button",onClick:async()=>{try{if(e){console.log("Token sent during logout:",e);const t=await fetch("http://localhost:5000/api/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});if(t.ok)console.log("Logout successful");else{const e=await t.json();console.error("Error during logout:",e.message)}}localStorage.removeItem("token"),t(null),a(!1),l("/")}catch(n){console.error("Error during logout:",n.message)}}},"Logout")};a(14);var N=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),i=Object(s.n)(),m=new URLSearchParams(i.search).get("token");return r.a.createElement("div",{className:"password-reset-container"},r.a.createElement("h2",null,"Reset Your Password"),r.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),e===a)try{const t=await fetch("/api/password-reset/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,newPassword:e})});if(t.ok)c("Password reset successfully. You can now log in.");else{const e=await t.json();c(e.message||"Failed to reset password.")}}catch(n){c("An error occurred. Please try again.")}else c("Passwords do not match.")}},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("label",null,"Confirm Password:",r.a.createElement("input",{type:"password",value:a,onChange:e=>l(e.target.value),required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Reset Password")),o&&r.a.createElement("p",null,o))};var k=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[p,E]=Object(n.useState)(!1),[h]=Object(c.c)(),g=h.get("token");return Object(n.useEffect)(()=>{g&&E(!0)},[g]),r.a.createElement("div",{className:"password-reset-container"},p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Reset Your Password"),r.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),o===i)try{const e=await fetch("/api/password-reset/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,newPassword:o})}),t=await e.json();e.ok?d("Password reset successfully. You can now log in."):d(t.message||"Failed to reset password.")}catch(t){d("An error occurred. Please try again later.")}else d("Passwords do not match.")}},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",value:o,onChange:e=>s(e.target.value),required:!0})),r.a.createElement("label",null,"Confirm Password:",r.a.createElement("input",{type:"password",value:i,onChange:e=>m(e.target.value),required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Reset Password"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Password Reset"),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch("/api/password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:a})}),n=await t.json();t.ok?d("Password reset email sent successfully. Please check your inbox."):d(n.message||"Failed to handle password reset request.")}catch(n){d("An error occurred. Please try again later.")}}},r.a.createElement("label",null,"Username:",r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("label",null,"Email:",r.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))),u&&r.a.createElement("p",null,u))};a(34);const C=[{id:1,name:"Lidl"},{id:2,name:"SuperValu"},{id:3,name:"TESCO"},{id:4,name:"Aldi"},{id:5,name:"M&S"},{id:6,name:"Dunnes Stores"}];var O=function(e){let{isEditing:t,productToEdit:a,onProductSaved:l,onProductUpdated:o,onCancel:c}=e;const[s,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[E,h]=Object(n.useState)(""),[g,y]=Object(n.useState)(""),[v,b]=Object(n.useState)("");Object(n.useEffect)(()=>{t&&a?(i(a.name),u(a.quantity),p(a.unit),h(a.price),y(a.supermarket_id),b(a.product_date?new Date(a.product_date).toISOString().split("T")[0]:"")):f()},[t,a]);const f=()=>{i(""),u(""),p(""),h(""),y(""),b("")};return r.a.createElement("div",{className:"add-form-container"},r.a.createElement("h2",null,t?"Edit Product":"Add New Product"),r.a.createElement("form",{onSubmit:e=>{e.preventDefault();const n={id:t&&a?a.id:null,name:s,quantity:m,unit:d,price:E,supermarket_id:g,product_date:v};console.log("Form Submission:",n),t?o(n):l(n),f()},className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Name:"),r.a.createElement("input",{type:"text",value:s,onChange:e=>i(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Quantity:"),r.a.createElement("input",{type:"number",value:m,onChange:e=>u(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Unit:"),r.a.createElement("input",{type:"text",value:d,onChange:e=>p(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Price:"),r.a.createElement("input",{type:"number",value:E,onChange:e=>h(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Supermarket:"),r.a.createElement("select",{value:g,onChange:e=>y(e.target.value),required:!0},r.a.createElement("option",{value:""},"Select Supermarket"),C.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement("input",{type:"date",value:v,onChange:e=>b(e.target.value),required:!0})),r.a.createElement("button",{type:"submit"},t?"Update Product":"Save Product"),t&&r.a.createElement("button",{type:"button",onClick:c},"Cancel")))};var j=function(){const{isAuthenticated:e}=b(),[t,a]=Object(n.useState)(!1),[l,o]=Object(n.useState)(null),[c,s]=Object(n.useState)([]),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[p,E]=Object(n.useState)([]);Object(n.useEffect)(()=>{(i||u)&&async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const a=e?"?name="+encodeURIComponent(e):"",n=await fetch("http://localhost:5000/api/products"+a),r=await n.json();s(r),h(e,t,r)}catch(a){console.error("Error fetching products:",a)}}(i,u)},[i,u]);const h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=a;e&&(n=n.filter(t=>{var a;return null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase())})),"name"===t?n=n.sort((e,t)=>(e.name||"").localeCompare(t.name||"")):"price"===t?n=n.sort((e,t)=>(e.price||0)-(t.price||0)):"date"===t?n=n.sort((e,t)=>new Date(e.product_date)-new Date(t.product_date)):"supermarket"===t?n=n.sort((e,t)=>(e.supermarket_name||"").localeCompare(t.supermarket_name||"")):"Lidl"===t?n=n.filter(e=>"Lidl"===e.supermarket_name):"SuperValu"===t?n=n.filter(e=>"SuperValu"===e.supermarket_name):"TESCO"===t?n=n.filter(e=>"TESCO"===e.supermarket_name):"Aldi"===t?n=n.filter(e=>"Aldi"===e.supermarket_name):"M&S"===t?n=n.filter(e=>"M&S"===e.supermarket_name):"Dunnes Stores"===t&&(n=n.filter(e=>"Dunnes Stores"===e.supermarket_name)),E(n)};return r.a.createElement("div",{className:"page-container"},r.a.createElement("div",{className:"left-column"},r.a.createElement("h1",null,"Search to Compare Prices"),r.a.createElement("input",{type:"text",placeholder:"Search products...",value:i,onChange:e=>{m(e.target.value)},className:"search-input"}),r.a.createElement("div",{className:"sort-container"},r.a.createElement("label",{htmlFor:"sort"},"Sort By: "),r.a.createElement("select",{id:"sort",value:u,onChange:e=>{const t=e.target.value;d(t),""===t?(m(""),E([])):h(i,t)}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"price"},"Price"),r.a.createElement("option",{value:"date"},"Date"),r.a.createElement("option",{value:"supermarket"},"Supermarket"),r.a.createElement("option",{value:"Lidl"},"Lidl"),r.a.createElement("option",{value:"SuperValu"},"SuperValu"),r.a.createElement("option",{value:"TESCO"},"TESCO"),r.a.createElement("option",{value:"Aldi"},"Aldi"),r.a.createElement("option",{value:"M&S"},"M&S"),r.a.createElement("option",{value:"Dunnes Stores"},"Dunnes Stores")),r.a.createElement("p",{className:"disclaimer"},"Disclaimer: Displayed results may not always be perfectly accurate. Product availability may vary depending on your location.")),p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-results"},r.a.createElement("h2",null,"Search Results for: ",i," (",p.length," items found)")),r.a.createElement("div",{className:"product-list"},p.map(t=>r.a.createElement("div",{key:t.id,className:"product-item"},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,"Quantity: ",t.quantity),r.a.createElement("p",null,"Unit: ",t.unit),r.a.createElement("p",null,"Price: \u20ac",t.price),r.a.createElement("p",null,"Supermarket: ",t.supermarket_name),r.a.createElement("p",null,"Date: ",new Date(t.product_date).toLocaleDateString()),e&&r.a.createElement("button",{onClick:()=>(t=>{e?(a(!0),o(t)):alert("Please log in to edit products.")})(t)},"Edit")))))),r.a.createElement("div",{className:"right-column"},e&&r.a.createElement(O,{isEditing:t,productToEdit:l,onProductSaved:async t=>{if(e)try{const e=await fetch("http://localhost:5000/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){const t=await e.json();s(e=>[...e,t]),h(i,u,[...c,t])}}catch(a){console.error("Error saving product:",a)}},onProductUpdated:async t=>{if(e)try{if((await fetch("http://localhost:5000/api/products/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok){const e=c.map(e=>e.id===t.id?t:e);s(e),h(i,u,e),a(!1)}}catch(n){console.error("Error updating product:",n)}},onCancel:()=>{a(!1),o(null)}})))};var P=function(){const e=Object(s.p)(),t=Object(s.n)(),[a,l]=Object(n.useState)("Verifying your email...");return Object(n.useEffect)(()=>{const a=new URLSearchParams(t.search).get("token");a?fetch("http://localhost:5000/api/verify-email?token="+a).then(e=>{if(!e.ok)throw new Error("Failed to verify email");return e.json()}).then(t=>{console.log("Verification response:",t),"Email verified successfully. You can now log in."===t.message?(l(t.message),setTimeout(()=>e("/login"),3e3)):l("Verification failed. Please try again.")}).catch(e=>{console.error("Error verifying email:",e),l("An error occurred. Please try again later.")}):l("Invalid verification link.")},[t,e]),r.a.createElement("div",{className:"verify-email"},r.a.createElement("h1",null,a))};a(35);var T=function(){return r.a.createElement("div",{class:"about-container"},r.a.createElement("div",{className:"about-image"})," ",r.a.createElement("div",{class:"about-text"},r.a.createElement("h1",null,"About Us"),r.a.createElement("p",null,"Welcome to addandcompare.com! Established in 2024, our platform was born from a simple yet profound realization during routine grocery shopping trips."),r.a.createElement("h2",null,"Our Origin"),r.a.createElement("p",null,"Noticing the frequent to and fro to supermarkets challenges in price comparison, product quality assessment and save more money, the idea for addandcompare.com was conceived. Our founder envisioned a user-driven platform that leverages the collective insights of the shopping community."),r.a.createElement("h2",null,"What We Do"),r.a.createElement("p",null,"Addandcompare.com provides a unique web application where users can add, compare, and review their grocery shopping experiences. By contributing to and utilizing our database, users can make more informed decisions, saving time and money."),r.a.createElement("h2",null,"Our Mission"),r.a.createElement("p",null,"Our mission is to empower consumers by providing a comprehensive and accessible platform for comparing grocery products across various supermarkets. We strive to simplify shopping decisions and enhance the shopping experience through technology and community input."),r.a.createElement("h2",null,"Join Us"),r.a.createElement("p",null,"We invite you to be part of our community. Whether you're comparing prices, seeking the best deals, or sharing your shopping experiences, Addandcompare.com is your go-to resource for all things grocery."),r.a.createElement("h2",null,"Contact Us"),r.a.createElement("p",null,"If you have any inquiries or wish to connect with us, please don't hesitate to reach out. We are excited to grow with you and continue enhancing our services.")))};a(36);var A=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[m,u]=Object(n.useState)("");return r.a.createElement("div",{class:"contact-container"},r.a.createElement("div",{class:"contact-info"},r.a.createElement("h1",null,"Contact Us"),r.a.createElement("p",null,"Feel free to contact us directly if you have any inquiries regarding our services. We are very pleased that you are considering us and will answer all your questions."),r.a.createElement("h2",null,"How can we help you today?"),r.a.createElement("p",null,"Feel free to contact us directly if you have any inquiries regarding our services. We would love to assist you."),r.a.createElement("p",null,"Simply fill in your personal data and let us get in touch with you. Normally, the support team answers within one business day, so that you don't have to wait. Or call us directly from the phone."),r.a.createElement("h3",null,"Address"),r.a.createElement("p",null,"To be Confirmed"),r.a.createElement("h3",null,"Phone"),r.a.createElement("p",null,"To be Confirmed"),r.a.createElement("h3",null,"Toll-Free"),r.a.createElement("p",null,"To be Confirmed"),r.a.createElement("h3",null,"Email"),r.a.createElement("p",null,"addandcomparemessageus@hotmail.com")),r.a.createElement("div",{className:"contact-form-container"},r.a.createElement("h2",null,"Contact Form"),r.a.createElement("form",{id:"contact-form",onSubmit:async n=>{n.preventDefault();try{const n=await fetch("http://localhost:5000/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:a,subject:o,message:s})}),r=await n.json();n.ok?(u("Message sent successfully!"),t(""),l(""),c(""),i("")):u("Failed to send message: "+r.message)}catch(r){console.error("Error sending message:",r),u("Failed to send message.")}}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Your Name:"),r.a.createElement("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Your Email:"),r.a.createElement("input",{type:"email",id:"email",value:a,onChange:e=>l(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"subject"},"Subject:"),r.a.createElement("input",{type:"text",id:"subject",value:o,onChange:e=>c(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message"},"Message:"),r.a.createElement("textarea",{id:"message",value:s,onChange:e=>i(e.target.value),required:!0})),r.a.createElement("button",{type:"submit"},"Send Message")),m&&r.a.createElement("div",{id:"contactMessage"},m)))};a(37);var q=function(){return r.a.createElement("di",{className:"home-page"},r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"header-content"},r.a.createElement("h1",null,"Welcome to addandcompare.com!"),r.a.createElement("p",null,"Ireland's new supermarket prices comparison website!"),r.a.createElement("p",null,"addandcompare was created with the intention to make you save money by comparing prices from supermarkets across Ireland. Find the best option for your groceries shop with our user-friendly website. Shop smart, save time, and happy shop."),r.a.createElement(c.b,{to:"/register"},r.a.createElement("button",{className:"become-member-button"},"Become a Member!")))))};a(38);var x=function(){return r.a.createElement("div",{className:"how-it-works-page"},r.a.createElement("div",{className:"how-it-works-container"},r.a.createElement("div",{className:"header-works"},r.a.createElement("h1",null,"How it works!"),r.a.createElement("p",null,"Ireland's new supermarket prices comparison website!"),r.a.createElement("p",null,"At addandcompare.com, we simplify your grocery shopping by providing a platform to compare product prices from various supermarkets. Here\u2019s how you can make the most of our service:"),r.a.createElement("h2",null,"For Guests (Unregistered Users)"),r.a.createElement("p",null,"Guests can freely access our website and use the search functionality to compare prices across a wide range of products. This allows you to:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Search for products to see current prices from different supermarkets in Ireland."),r.a.createElement("li",null,"View product details and average prices without creating an account.")),r.a.createElement("h2",null,"For Registered Users"),r.a.createElement("p",null,"By creating a free account on addandcompare.com, you unlock additional features that enhance your shopping experience. Registered users can:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Add new products to the platform."),r.a.createElement("li",null,"Update product prices and details based on their latest shopping experiences."),r.a.createElement("li",null,"Access a personalized dashboard with product tracking, shop list, and more.")),r.a.createElement("h2",null,"Getting Started"),r.a.createElement("p",null,"To begin, simply:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Visit our registration page to create your account."),r.a.createElement("li",null,"Once registered, log in to access your personalized dashboard."),r.a.createElement("li",null,"Start adding or searching for products immediately!")),r.a.createElement("h2",null,"Our Commitment"),r.a.createElement("p",null,"We are dedicated to keeping our platform up-to-date and reliable. We encourage our users to contribute by updating product prices and information to help fellow shoppers."),r.a.createElement("h2",null,"Need Help?"),r.a.createElement("p",null,"If you need assistance or have any questions, visit our ",r.a.createElement("a",{href:"/contact-us"},"Contact Us")," page, and we'll be happy to help you navigate our site or resolve any issues."))))};a(15);var D=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,i]=Object(n.useState)(!1),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),{login:E}=Object(n.useContext)(f),h=Object(s.p)(),g=Object(s.n)();return Object(n.useEffect)(()=>{"true"===new URLSearchParams(g.search).get("verified")&&p("Email verified successfully! You can now log in.")},[g]),r.a.createElement("form",{className:"login-form",onSubmit:async t=>{t.preventDefault();try{const t=await fetch("http://localhost:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})});if(t.ok){const e=await t.json();console.log("Token received:",e.token),E(e.token),h("/search")}else{const e=await t.json();console.error("Login failed:",e),u(e.error||"Invalid login credentials")}}catch(n){console.error("Error during login:",n),u("An error occurred. Please try again.")}}},r.a.createElement("div",{className:"input-group"},d&&r.a.createElement("div",{className:"success-message"},d)," ",m&&r.a.createElement("div",{className:"error-message"},m)," ",r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",placeholder:"Enter Username",value:e,onChange:e=>t(e.target.value),required:!0}),r.a.createElement("div",{style:{position:"absolute",right:"12px",top:"32px"}},r.a.createElement("p",{className:"text-sz color-icon"},r.a.createElement("i",{className:"bi bi-check-circle-fill"})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:o?"text":"password",id:"password",placeholder:"Enter Password",value:a,onChange:e=>l(e.target.value),required:!0}),r.a.createElement("div",{className:"icon-container",onClick:()=>{i(e=>!e)}},r.a.createElement("i",{className:o?"bi bi-eye-slash-fill":"bi bi-eye-fill"}))),r.a.createElement("button",{type:"submit",className:"login-button"},"Log In"),r.a.createElement("div",{className:"additional-options"},r.a.createElement(c.b,{to:"/register"},"Don't have an account? Register here.")))};var F=function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-left-section"},r.a.createElement("h1",null,"WELCOME"),r.a.createElement("h1",null,"BACK!")),r.a.createElement("div",{className:"login-right-section"},r.a.createElement("h2",null,"Log In"),r.a.createElement("p",null,"Login here to start your journey with us."),r.a.createElement(D,null)))};a(39);var _=function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"privacy-container"},r.a.createElement("div",{className:"privacy-image"})," ",r.a.createElement("div",{class:"privacy-text"},r.a.createElement("h1",null,"Privacy Policy"),r.a.createElement("p",null,"Your privacy is important to us. It is our policy to respect your privacy regarding any information we may collect from you across our website."),r.a.createElement("h2",null,"Information we collect"),r.a.createElement("p",null,"We collect information you voluntarily provide to us, such as your email address at sign-up, product search queries and any other personal information you provide through the Addandcompare.com website. We also collect non-personally identifiable information, such as your IP address."),r.a.createElement("h2",null,"Why we collect this information"),r.a.createElement("p",null,"The information you provide to us enables us to fulfill your service expectations. The provided information is used in various ways to improve our website's interaction with the user, via newsletters or personalised product displays."),r.a.createElement("h2",null,"Information sharing and disclosure"),r.a.createElement("p",null,"We do not share or disclose your personal information to any third parties, except as required by law or as necessary to provide you with the services you request."),r.a.createElement("h2",null,"Security"),r.a.createElement("p",null,"We take reasonable measures to protect your personal information from unauthorized access, use, or disclosure. However, we cannot guarantee that your information will be completely secure."),r.a.createElement("h2",null,"Changes to this policy"),r.a.createElement("p",null,"We may update this policy from time to time. We will notify you of any changes by posting the new policy on our website."),r.a.createElement("h2",null,"Contact us"),r.a.createElement("p",null,"If you have any questions or concerns about our privacy policy, please feel free to reach out to us, we are always happy to help!"))))};a(16);var I=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),[d,p]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!1),{login:g}=Object(n.useContext)(f),y=Object(s.p)();return r.a.createElement("form",{className:"register-form",onSubmit:async t=>{if(t.preventDefault(),(e=>/^(?=.*[A-Z])(?=.*[\xa3$%&*\/\\@-]).{8,}$/.test(e))(o))if(o===m)try{const t=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:a,password:o})});if(t.ok)alert("Registration successful! Please check your email to verify your account."),y("/login");else{const e=await t.json();alert(e.error)}}catch(n){console.error("Error during registration:",n),alert("An error occurred. Please try again.")}else alert("Passwords do not match.");else alert("Password must be at least 8 characters long, contain at least one uppercase letter, and one special character (\xa3$%&*/\\@-).")}},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",placeholder:"Enter Username",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",placeholder:"Enter Email",value:a,onChange:e=>l(e.target.value),required:!0})),r.a.createElement("div",{className:"input-group",style:{position:"relative"}},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:d?"text":"password",id:"password",placeholder:"Enter Password",value:o,onChange:e=>i(e.target.value),required:!0}),r.a.createElement("div",{className:"icon-container",onClick:()=>{p(e=>!e)}},r.a.createElement("i",{className:d?"bi bi-eye-slash-fill":"bi bi-eye-fill"}))),r.a.createElement("div",{className:"input-group",style:{position:"relative"}},r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),r.a.createElement("input",{type:E?"text":"password",id:"confirmPassword",placeholder:"Confirm Password",value:m,onChange:e=>u(e.target.value),required:!0}),r.a.createElement("div",{className:"icon-container",onClick:()=>{h(e=>!e)}},r.a.createElement("i",{className:E?"bi bi-eye-slash-fill":"bi bi-eye-fill"}))),r.a.createElement("button",{type:"submit",className:"register-button"},"Register"),r.a.createElement("div",{className:"additional-options"},r.a.createElement(c.b,{to:"/login"},"Already have an account? Log in here.")))};var L=function(){return r.a.createElement("div",{className:"register-page"},r.a.createElement("div",{className:"register-left-section"},r.a.createElement("h1",null,"WELCOME"),r.a.createElement("h1",null,"BACK!")),r.a.createElement("div",{className:"register-right-section"},r.a.createElement("h2",null,"Register"),r.a.createElement("p",null,"Register here to start your journey with us."),r.a.createElement(I,null)))};a(40);var U=function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"terms-container"},r.a.createElement("div",{className:"terms-image"})," ",r.a.createElement("div",{class:"terms-text"},r.a.createElement("h1",null,"Terms of Service"),r.a.createElement("p",null,"Welcome to addandcompare.com! By accessing our website, you agree to these terms of service. Please read them carefully."),r.a.createElement("h2",null,"Acceptance of Terms"),r.a.createElement("p",null,"When you use our services, you\u2019re agreeing to our terms, so please take a few minutes to read over the User Agreement below."),r.a.createElement("h2",null,"Changes to Terms"),r.a.createElement("p",null,"We may modify these terms at any time. We will notify you of any changes by posting the new terms on our website."),r.a.createElement("h2",null,"Communication"),r.a.createElement("p",null,"By creating an account on our website, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send."),r.a.createElement("h2",null,"Content"),r.a.createElement("p",null,"The content found on or through this service are the property of Addandcompare.com or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."),r.a.createElement("h2",null,"Accounts"),r.a.createElement("p",null,"When you create an account with us, you guarantee that you are above the age of 18, and that the information you provide us is accurate, complete, and current at all times. Inaccurate, incomplete, or obsolete information may result in the immediate termination of your account on our service."),r.a.createElement("h2",null,"Intellectual Property"),r.a.createElement("p",null,"The service and its original content (excluding Content provided by users), features, and functionality are and will remain the exclusive property of Addandcompare.com and its licensors."),r.a.createElement("h2",null,"Contact Us"),r.a.createElement("p",null,"If you have any questions about these Terms, please contact us."))))};a(17),a(41);var W=function(e){let{isOpen:t,onClose:a,onPasswordReset:n,onDeleteAccount:l}=e;return t?r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h2",null,"Account Settings"),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{className:"btn btn-primary",onClick:n},"Change Password"),r.a.createElement("button",{className:"btn btn-danger",onClick:l},"Delete Account")),r.a.createElement("button",{className:"btn btn-secondary",onClick:a},"Close"))):null};var R=()=>{const[e,t]=Object(n.useState)(!1),[a,l]=Object(n.useState)(!1),o=Object(s.p)(),c={name:"Fsteyer",watchlist:[],dataCollectionDates:[{supermarket:"Aldi",date:"05-12-24"},{supermarket:"Dunnes Stores",date:"05-12-24"},{supermarket:"SuperValu",date:"05-12-24"},{supermarket:"Tesco",date:"05-12-24"}]};return r.a.createElement("div",{className:"dashboard"},r.a.createElement("header",{className:"dashboard-header"},r.a.createElement("div",{className:"greeting"},r.a.createElement("i",{className:"bi bi-person pt-3 color-normal-blue",id:"pers"}),r.a.createElement("div",null,r.a.createElement("p",null,"Hello,"),r.a.createElement("p",null,c.name,"!!")))),r.a.createElement("section",{className:"options-section"},r.a.createElement("h3",null,"My Options"),r.a.createElement("div",{className:"options-grid"},r.a.createElement("div",{className:"option",onClick:()=>t(!0)},r.a.createElement("span",null,"Account Settings"),r.a.createElement("i",{className:"bi bi-gear"})),r.a.createElement("div",{className:"option"},r.a.createElement("span",null,"Newsletter Options"),r.a.createElement("i",{className:"bi bi-envelope"})),r.a.createElement("div",{className:"option"},r.a.createElement("span",null,"Cheapest Weekly Shop"),r.a.createElement("i",{className:"bi bi-bar-chart"})),r.a.createElement("div",{className:"option"},r.a.createElement("span",null,"Product Seasonality"),r.a.createElement("i",{className:"bi bi-cloud-sun"})))),r.a.createElement("section",{className:"watchlist-section"},r.a.createElement("h3",null,"My Watchlist"),c.watchlist.length>0?r.a.createElement("ul",null,c.watchlist.map((e,t)=>r.a.createElement("li",{key:t},e))):r.a.createElement("p",null,"You currently have no saved products.")),r.a.createElement("section",{className:"data-collection-dates"},r.a.createElement("h3",null,"Data Collection Dates"),r.a.createElement("div",{className:"dates-grid"},c.dataCollectionDates.map((e,t)=>r.a.createElement("div",{className:"date-card",key:t},r.a.createElement("span",null,e.supermarket),r.a.createElement("span",null,e.date))))),r.a.createElement(W,{isOpen:e,onClose:()=>t(!1),onPasswordReset:()=>{t(!1),o("/password-reset")},onDeleteAccount:()=>{t(!1),l(!0)}}),r.a.createElement(u,{isOpen:a,onClose:()=>l(!1),onConfirm:()=>{console.log("Account deleted"),l(!1)}}))};var M=()=>r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(R,null)}));var Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(q,null)}),r.a.createElement(s.a,{path:"/search",element:r.a.createElement(j,null)}),r.a.createElement(s.a,{path:"/how-it-works",element:r.a.createElement(x,null)}),r.a.createElement(s.a,{path:"/login",element:r.a.createElement(F,null)}),r.a.createElement(s.a,{path:"/register",element:r.a.createElement(L,null)}),r.a.createElement(s.a,{path:"/about-us",element:r.a.createElement(T,null)}),r.a.createElement(s.a,{path:"/contact-us",element:r.a.createElement(A,null)}),r.a.createElement(s.a,{path:"/terms-of-service",element:r.a.createElement(U,null)}),r.a.createElement(s.a,{path:"/privacy-policy",element:r.a.createElement(_,null)}),r.a.createElement(s.a,{path:"/add-product",element:r.a.createElement(m,null)}),r.a.createElement(s.a,{path:"/edit-product",element:r.a.createElement(d,null)}),r.a.createElement(s.a,{path:"/verify-email",element:r.a.createElement(P,null)}),r.a.createElement(s.a,{path:"/logout",element:r.a.createElement(S,null)}),r.a.createElement(s.a,{path:"/dashboard/*",element:r.a.createElement(M,null)}),r.a.createElement(s.a,{path:"/password-reset",element:r.a.createElement(k,null)}),r.a.createElement(s.a,{path:"/password-reset/confirm",element:r.a.createElement(N,null)}),r.a.createElement(s.a,{path:"/delete-account",element:r.a.createElement(u,null)}))),r.a.createElement(p,null),r.a.createElement(E,null))};a(42);o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(v,null,r.a.createElement(Y,null)))))}],[[20,1,2]]]);
//# sourceMappingURL=main.645a78de.chunk.js.map